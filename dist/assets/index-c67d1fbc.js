import{X as f,Y as r,Z as n,K as p,A as L,r as y,V as B,j as m,J as F,a as t,$ as S,H as T,a9 as U,aa as W,ab as A}from"./index-f69be7d7.js";import{u as M,M as $,a as x}from"./useTable-ed21e2f1.js";import{P as D}from"./PageHeading-c7717559.js";import{C as E}from"./CustomTableHeading-e03faf26.js";import"./IconButton-5e93c969.js";import"./Toolbar-34ee48fc.js";const s="الزبائن",o=[{id:"id",label:"رقم الحساب",minWidth:80,align:"center",isField:!1},{id:"name",label:"اسم الحساب",minWidth:150,align:"left",isField:!0,required:!0,isLink:!0,urlPath:"shops"},{id:"mobileNumber",label:"رقم الهاتف المحمول",minWidth:150,align:"center",isField:!0,required:!0},{id:"address",label:"العنوان",minWidth:100,align:"center",isField:!0},{id:"note",label:"ملاحظة",minWidth:170,align:"left",isField:!0},{id:"accountBalance",label:"صافي الحساب",minWidth:50,align:"center",isField:!0,format:a=>a.toLocaleString("en-US"),isMoney:!0},{id:"accountBalanceValues",label:"قيمة صافي الحساب",minWidth:100,align:"center",isField:!0,format:a=>a.toLocaleString("en-US"),isMoney:!0}],g={id:"",name:"",mobileNumber:"",address:"",note:"",accountBalance:0,accountBalanceValues:0},I=f({name:r().required("يرجى إدخال اسم الحساب"),mobileNumber:n().required("يرجى إدخال رقم الموبايل"),address:r(),accountBalance:n().required("يرجى كتابة صافي الحساب"),note:r(),accountBalanceValues:n().required("يرجى كتابة قيمة صافي الحساب")}),j=()=>{const{dialog:a,setDialog:d,handleOpenAddDialog:h}=M(g),i=p(),l=L(e=>e.users).data.filter(e=>e.userType==="زبون"),c={add:e=>i(U({...e,userType:"زبون"})),edit:e=>i(W({...e})),delete:e=>i(A(e))};y.useEffect(()=>{i(B())},[]);const b={title:"الاجمالي",...l.reduce((e,u)=>(console.log(e),e.value+=u.accountBalance,e.values+=u.accountBalanceValues,e),{value:0,values:0})};return m(F,{title:`صفحة ${s}`,children:[t(D,{title:"صفحة الزبائن"}),m(S,{children:[t($,{columns:o,deletedLabel:`فاتورة ${s}`,setDialog:d,rows:l,COLUMNS:o,validationSchema:!0,dispatchers:c}),t(T,{variant:"contained",sx:{height:"60px",margin:"2rem auto",display:"block",width:"50%"},color:"error",onClick:h,children:`اضافة ${s}`})]}),t(x,{title:`فاتورة ${s}`,dialog:a,setDialog:d,ROW_INTIAL_VALUE:g,FIELDS:o.filter(e=>e.isField),rows:l,validationSchema:I,dispatchers:c}),t(E,{rows:b})]})};export{j as default};
