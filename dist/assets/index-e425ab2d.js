import{U as v,V as o,W as u,N as y,A as f,r as h,Q as p,j as b,J as L,a as t,X as A,Z as T,$ as W}from"./index-8aa1702d.js";import{u as D,M as I,a as S}from"./useTable-897d4893.js";import{P as M}from"./PageHeading-27a2275d.js";import{C as U}from"./CustomTableHeading-05fe7feb.js";import"./IconButton-2bd4868e.js";import"./Toolbar-2f8e7a3d.js";const s="سحب",c={id:"",name:"",value:0,values:0},E=v({name:o().required("يرجى إدخال اسم الحساب"),value:u().required("يرجى كتابة المبلغ"),values:u().required("يرجى كتابة قيمة المبلغ"),note:o()}),j=()=>{const{dialog:m,setDialog:d,handleOpenAddDialog:F}=D(c),i=y();let a=f(e=>e.dailyRows.data).filter(e=>e.billType==="سحوبات");a=a.map(e=>({userId:e.User.id,billType:e.billType,name:e.User.name,id:e.id,value:e.value,values:e.values,note:e.note,createdAt:e.createdAt}));const l=[{id:"userId",label:"رقم الحساب",minWidth:80,align:"center",isField:!1},{id:"id",label:"رقم الفاتورة",minWidth:80,align:"center",isField:!1},{id:"name",label:"اسم الحساب",minWidth:150,align:"left",isField:!1,required:!0,isLink:!0},{id:"value",label:"المبلغ",minWidth:80,align:"center",isField:!0,format:e=>e.toLocaleString("en-US"),isMoney:!0},{id:"values",label:"القيمة",minWidth:80,align:"center",isField:!0,format:e=>e.toLocaleString("en-US"),isMoney:!0},{id:"createdAt",label:"التاريخ",minWidth:80,align:"center"}],n={edit:e=>{i(T(e))},delete:e=>i(W(e))},g={title:"الاجمالي",...a.reduce((e,r)=>(e.value+=r.value,e.values+=r.values,e),{value:0,values:0})};return h.useEffect(()=>{i(p())},[]),b(L,{title:`صفحة ${s}`,children:[t(M,{title:"صفحة السحوبات"}),t(A,{children:t(I,{columns:l,deletedLabel:`فاتورة ${s}`,setDialog:d,rows:a,COLUMNS:l,validationSchema:!0,dispatchers:n})}),t(U,{rows:g}),t(S,{title:`فاتورة ${s}`,dialog:m,setDialog:d,ROW_INTIAL_VALUE:c,FIELDS:l.filter(e=>e.isField),rows:a,validationSchema:E,dispatchers:n})]})};export{j as default};
