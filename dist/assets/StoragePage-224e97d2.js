import{X as v,Y as t,Z as r,K as F,A as S,r as I,a4 as L,j as d,J as x,a as i,a5 as P,$ as y,H as A,E,a6 as $,a7 as q,a8 as D}from"./index-f69be7d7.js";import{u as _,M as w,a as z,T as h,b as M,c as m}from"./useTable-ed21e2f1.js";import"./LogsTable-b1fcc1f0.js";import"./IconButton-5e93c969.js";import"./Toolbar-34ee48fc.js";const s="المستودع",n=[{id:"id",label:"رقم المنتج",minWidth:80,align:"center",isField:!1},{id:"modelId",label:"رقم الموديل",minWidth:80,align:"center",isField:!0},{id:"name",label:"اسم المنتج",minWidth:150,align:"left",isField:!0,required:!0},{id:"count",label:"العدد",minWidth:100,align:"center",isField:!0,required:!0},{id:"values",label:"القيمة للواحدة",minWidth:100,align:"center",isField:!0,isPrice:!0},{id:"value",label:"المبلغ للواحدة",minWidth:100,align:"center",isField:!0,isPrice:!0},{id:"colors",label:"الألوان",minWidth:100,align:"center",isField:!0},{id:"sizes",label:"المقاسات",minWidth:100,align:"center",isField:!0},{id:"note",label:"ملاحظة",minWidth:100,align:"center",isField:!0}],g={id:"",modelId:"",name:"",count:"",value:"",values:"",note:"",sizes:"",colors:""},O=v({name:t().required("يرجى إدخال اسم المنتج"),modelId:t(),count:r().required("يرجى إدخال الكمية المتاحة"),value:r().required("يرجى إدخال مبلغ القطعة الواحدة"),values:r().required("يرجى إدخال قيمة القطعة الواحدة"),note:t(),colors:t(),sizes:t()}),U=()=>{const{dialog:b,setDialog:o,handleOpenAddDialog:p}=_(g),a=F(),l=S(e=>e.products.data),c={add:e=>a($(e)),edit:e=>a(q(e)),delete:e=>a(D(e))},W=l.reduce((e,u)=>{const f=u.values||0,T=u.count||0;return e+f*T},0);return I.useEffect(()=>{a(L())},[]),d(x,{title:`صفحة ${s}`,children:[i(P,{title:"المستودع"}),d(y,{children:[i(w,{columns:n,deletedLabel:`فاتورة ${s}`,setDialog:o,rows:l,COLUMNS:n,validationSchema:!0,dispatchers:c}),i(A,{variant:"contained",sx:{height:"60px",margin:"2rem auto",display:"block",width:"50%"},color:"error",onClick:p,children:"اضافة منتج"})]}),i(z,{title:`فاتورة ${s}`,dialog:b,setDialog:o,ROW_INTIAL_VALUE:g,FIELDS:n.filter(e=>e.isField),rows:l,validationSchema:O,dispatchers:c}),i(h,{children:i(h,{children:d(M,{children:[i(m,{colSpan:6,sx:{fontSize:"1.2rem",width:"100%"},children:"القيمة الكلية"}),i(m,{colSpan:6,sx:{color:"green",fontWeight:"bold",fontSize:"1.2rem",width:"100%"},children:i(E,{style:{direction:"ltr",fontWeight:"bold",color:"green"},children:W})})]})})})]})};export{U as default};
