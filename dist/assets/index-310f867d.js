import{X as f,Y as r,Z as o,A as L,K as y,r as B,V as S,j as g,J as F,a as t,$ as T,H as U,a9 as W,aa as A,ab as M}from"./index-f69be7d7.js";import{u as $,M as x,a as E}from"./useTable-ed21e2f1.js";import{P as I}from"./PageHeading-c7717559.js";import{C as V}from"./CustomTableHeading-e03faf26.js";import"./IconButton-5e93c969.js";import"./Toolbar-34ee48fc.js";const l="تجار السوق",d=[{id:"id",label:"رقم الحساب",minWidth:80,align:"center",isField:!1},{id:"name",label:"اسم الحساب",minWidth:150,align:"left",isField:!0,required:!0,isLink:!0,urlPath:"shops"},{id:"mobileNumber",label:"رقم الهاتف المحمول",minWidth:150,align:"center",isField:!0,required:!0},{id:"address",label:"العنوان",minWidth:100,align:"center",isField:!0},{id:"note",label:"ملاحظة",minWidth:170,align:"left",isField:!0},{id:"accountBalance",label:"صافي الحساب",minWidth:50,align:"center",isField:!0,format:a=>a.toLocaleString("en-US"),isMoney:!0},{id:"accountBalanceValues",label:"قيمة صافي الحساب",minWidth:100,align:"center",isField:!0,format:a=>a.toLocaleString("en-US"),isMoney:!0}],h={id:"",name:"",mobileNumber:"",address:"",note:"",accountBalance:0,accountBalanceValues:0},q=f({name:r().required("يرجى إدخال اسم الحساب"),mobileNumber:o().required("يرجى إدخال رقم الهاتف المحمول"),address:r(),accountBalance:o().required("يرجى كتابة صافي الحساب"),accountBalanceValues:o().required("يرجى كتابة قيمة صافي الحساب"),note:r()}),j=()=>{const{dialog:a,setDialog:c,handleOpenAddDialog:b}=$(h),s=L(e=>e.users.data),n=s==null?void 0:s.filter(e=>e.userType==="تاجر سوق"),i=y();B.useEffect(()=>{i(S())},[]);const u={add:e=>i(W({...e,userType:"تاجر سوق"})),edit:e=>i(A({...e})),delete:e=>i(M(e))},p={title:"الاجمالي",...n.reduce((e,m)=>(console.log(e),e.value+=m.accountBalance,e.values+=m.accountBalanceValues,e),{value:0,values:0})};return g(F,{title:`صفحة ${l}`,children:[t(I,{title:"صفحة تجار السوق"}),g(T,{children:[t(x,{columns:d,deletedLabel:`فاتورة ${l}`,setDialog:c,rows:n,COLUMNS:d,validationSchema:!0,dispatchers:u}),t(U,{variant:"contained",sx:{height:"60px",margin:"2rem auto",display:"block",width:"50%"},color:"error",onClick:b,children:`اضافة ${l}`})]}),t(E,{title:`فاتورة ${l}`,dialog:a,setDialog:c,ROW_INTIAL_VALUE:h,FIELDS:d.filter(e=>e.isField),rows:n,validationSchema:q,dispatchers:u}),t(V,{rows:p})]})};export{j as default};
